<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makeup Products</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* GLOBAL STYLES */
        :root {
            --primary: #f28e9c;
            --primary-light: #ffd3da;
            --secondary: #8ecfe8;
            --dark: #333333;
            --light: #ffffff;
            --gray: #f5f5f5;
            --accent: #d1b3ee;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 12px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #fcfcfc;
            color: var(--dark);
            overflow-x: hidden;
        }
        
        button {
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }
        
        /* HEADER STYLES */
        header {
            background-color: var(--light);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }
        
        nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .logo img {
            height: 50px;
            transition: transform 0.3s ease;
        }
        
        .logo img:hover {
            transform: scale(1.05);
        }
        
        .search-bar {
            position: relative;
            width: 40%;
            max-width: 500px;
        }
        
        .search-bar input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 3rem;
            border: none;
            border-radius: 30px;
            background-color: var(--gray);
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }
        
        .search-bar input:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-light);
            background-color: white;
        }
        
        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            font-weight: 500;
            padding: 0.5rem 0;
            position: relative;
            color: var(--dark);
            opacity: 0.8;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover, .nav-links a.active {
            opacity: 1;
            color: var(--primary);
        }
        
        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover:after, .nav-links a.active:after {
            width: 100%;
        }
        
        .header-icons {
            display: flex;
            gap: 1.5rem;
        }
        
        .user-icon, .cart-icon {
            position: relative;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: var(--gray);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .user-icon:hover, .cart-icon:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
        }
        
        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary);
            color: white;
            font-size: 0.7rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* MAIN CONTENT STYLES */
        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 5%;
        }
        
        section {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        section h1 {
            margin-bottom: 2rem;
            font-size: 2.2rem;
            position: relative;
            display: inline-block;
            color: var(--dark);
        }
        
        section h1:after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--primary);
            border-radius: 2px;
        }

        /* CATEGORY FILTER */
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .filter-button {
            padding: 0.6rem 1.2rem;
            background-color: var(--gray);
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .filter-button:hover, .filter-button.active {
            background-color: var(--primary-light);
            color: var(--dark);
        }

        .filter-button.active {
            background-color: var(--primary);
            color: white;
        }
        
        /* PRODUCTS GRID */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }
        
        .product-card {
            background-color: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1);
        }
        
        .product-image {
            width: 100%;
            height: 220px;
            object-fit: contain;
            background-color: #f9f9f9;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .product-info {
            padding: 1.2rem;
        }
        
        .product-brand {
            font-size: 0.85rem;
            color: #777;
            margin-bottom: 0.3rem;
            font-weight: 500;
        }
        
        .product-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .product-category {
            display: inline-block;
            font-size: 0.8rem;
            padding: 0.3rem 0.6rem;
            background-color: var(--gray);
            border-radius: 4px;
            margin-bottom: 0.8rem;
        }
        
        .product-description {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: -webkit-box;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            height: 2.8em;
        }
        
        .product-price {
            font-weight: 600;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .quick-add {
            position: absolute;
            bottom: 1.2rem;
            right: 1.2rem;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }
        
        .product-card:hover .quick-add {
            opacity: 1;
            transform: translateY(0);
        }
        
        .quick-add:hover {
            background-color: var(--dark);
        }

        /* Tags */
        .featured-tag, .sale-tag, .new-tag {
            position: absolute;
            top: 1rem;
            left: 1rem;
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
            border-radius: 30px;
            font-weight: 500;
            z-index: 2;
        }

        .featured-tag {
            background-color: var(--accent);
            color: white;
        }

        .sale-tag {
            background-color: var(--primary);
            color: white;
        }

        .new-tag {
            background-color: var(--secondary);
            color: white;
        }
        
        /* MODAL STYLES */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 200;
            overflow-y: auto;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: white;
            border-radius: var(--radius);
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            padding: 2rem;
            animation: slideUp 0.4s ease;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .close:hover {
            background-color: #eee;
            transform: rotate(90deg);
        }
        
        .product-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        #modal-product-image {
            width: 100%;
            height: auto;
            max-height: 400px;
            object-fit: contain;
            background-color: #f9f9f9;
            border-radius: var(--radius);
            padding: 1rem;
        }
        
        .modal-brand {
            font-size: 1rem;
            color: #777;
            margin-bottom: 0.5rem;
        }
        
        .modal-name {
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }
        
        .modal-category {
            display: inline-block;
            font-size: 0.9rem;
            padding: 0.4rem 0.8rem;
            background-color: var(--gray);
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }
        
        .modal-description {
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: #555;
        }
        
        .price {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 2rem;
            display: inline-block;
            padding: 0.5rem 1rem;
            background-color: var(--primary-light);
            border-radius: var(--radius);
        }
        
        .add-to-cart {
            padding: 0.8rem 2rem;
            background-color: var(--primary);
            color: white;
            font-weight: 500;
            font-size: 1rem;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .add-to-cart:hover {
            background-color: var(--dark);
            transform: translateY(-3px);
        }
        
        /* CART MODAL */
        #cart-items {
            margin-bottom: 2rem;
        }
        
        .cart-item {
            display: grid;
            grid-template-columns: 80px 1fr auto;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
            align-items: center;
        }
        
        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: var(--radius);
        }
        
        .cart-item-info h3 {
            margin-bottom: 0.5rem;
        }
        
        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
        }
        
        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .quantity-btn {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background-color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quantity-btn:hover {
            background-color: #eee;
        }
        
        .remove-item {
            color: #999;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .remove-item:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 2px solid var(--gray);
        }
        
        .checkout-btn {
            padding: 0.8rem 2rem;
            background-color: var(--primary);
            color: white;
            font-weight: 500;
            font-size: 1rem;
            border-radius: 30px;
            transition: all 0.3s ease;
        }
        
        .checkout-btn:hover {
            background-color: var(--dark);
            transform: translateY(-3px);
        }
        
        /* RESPONSIVE STYLES */
        @media (max-width: 900px) {
            .nav-links {
                display: none;
            }
            
            .search-bar {
                width: 60%;
            }
            
            .product-details {
                grid-template-columns: 1fr;
            }
            
            #modal-product-image {
                height: 300px;
            }
        }
        
        @media (max-width: 600px) {
            .search-bar {
                width: 70%;
                order: 3;
                margin-top: 1rem;
            }
            
            nav {
                flex-wrap: wrap;
            }
            
            .header-icons, .logo {
                width: 50%;
            }
            
            .header-icons {
                justify-content: flex-end;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .cart-item {
                grid-template-columns: 60px 1fr;
            }
            
            .cart-item-actions {
                grid-column: span 2;
                justify-content: flex-end;
            }
            
            .cart-total {
                flex-direction: column;
                gap: 1rem;
            }
            
            .checkout-btn {
                width: 100%;
            }
        }

        /* Add this CSS to both skincare.html and makeup.html in the <style> section */

/* Delete product button for admin */
.delete-product-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: all 0.3s ease;
}

.delete-product-btn:hover {
    background-color: var(--primary);
    color: white;
}

/* Add Product Button */
.add-product-button {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--accent);
    color: white;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.add-product-button:hover {
    background-color: #c29fe0;
    transform: rotate(90deg);
}

/* Add Product Modal Styles */
#add-product-modal .modal-content {
    max-width: 600px;
}

#add-product-form {
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-group label {
    font-weight: 500;
    color: var(--dark);
}

.form-group input,
.form-group select,
.form-group textarea {
    padding: 0.8rem;
    border: 1px solid #ddd;
    border-radius: var(--radius);
    font-size: 0.95rem;
    transition: all 0.3s ease;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--primary-light);
}

.radio-group {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
}

.radio-group input[type="radio"] {
    margin-right: 0.3rem;
}

.add-product-submit {
    margin-top: 1rem;
    padding: 0.8rem 2rem;
    background-color: var(--primary);
    color: white;
    font-weight: 500;
    font-size: 1rem;
    border-radius: 30px;
    align-self: center;
    transition: all 0.3s ease;
}

.add-product-submit:hover {
    background-color: var(--dark);
    transform: translateY(-3px);
}

/* File upload preview */
.image-preview {
    width: 100%;
    height: 200px;
    margin-top: 0.5rem;
    border: 1px dashed #ddd;
    border-radius: var(--radius);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background-color: #f9f9f9;
}

.image-preview img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.error-message {
    color: #e74c3c;
    font-size: 0.85rem;
    margin-top: 0.3rem;
}

.success-message {
    color: #2ecc71;
    font-size: 0.85rem;
    margin-top: 0.3rem;
}

/* Add these styles to your CSS in each page */

/* Search Results Styles */
.results-count {
    font-weight: 500;
    margin-bottom: 1.5rem;
    color: #777;
}

.no-results {
    text-align: center;
    width: 100%;
    padding: 3rem 1rem;
    background-color: var(--gray);
    border-radius: var(--radius);
}

.no-results h3 {
    margin: 1rem 0;
    color: var(--dark);
}

.no-results p {
    color: #777;
    margin-bottom: 1.5rem;
}

.search-categories {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    margin-top: 1.5rem;
}

.search-category-link {
    display: inline-block;
    padding: 0.8rem 1.5rem;
    background-color: var(--primary-light);
    color: var(--dark);
    border-radius: 30px;
    text-decoration: none;
    transition: all 0.3s ease;
}

.search-category-link:hover {
    background-color: var(--primary);
    color: white;
    transform: translateY(-2px);
}

/* Search highlight animation */
@keyframes searchHighlight {
    0% { transform: scale(1); box-shadow: var(--shadow); }
    50% { transform: scale(1.02); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12); }
    100% { transform: scale(1); box-shadow: var(--shadow); }
}

.search-highlight {
    animation: searchHighlight 1s ease;
}
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="index.html">
                    <img src="./assets/beauty-logo.svg" alt="Beauty Store Logo">
                </a>
            </div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search makeup products...">
                <i class="fas fa-search search-icon"></i>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="skincare.html">Skincare</a>
                <a href="makeup.html" class="active">Makeup</a>
            </div>
            <div class="header-icons">
                <div class="user-icon" onclick="handleUserIconClick()">
                    <i class="fas fa-user"></i>
                </div>
                <div class="cart-icon" onclick="showCartModal()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="makeup">
            <h1>Makeup Products</h1>
            
            <div class="category-filter">
                <button class="filter-button active" data-category="all">All Products</button>
                <button class="filter-button" data-category="face">Face</button>
                <button class="filter-button" data-category="eyes">Eyes</button>
                <button class="filter-button" data-category="lips">Lips</button>
                <button class="filter-button" data-category="cheeks">Cheeks</button>
                <button class="filter-button" data-category="brushes">Brushes</button>
            </div>
            
            <div class="products-grid" id="makeup-products">
                <!-- Product 1: Fenty Beauty Foundation -->
                <div class="product-card" data-product-id="1" data-category="face">
                    <div class="featured-tag">Bestseller</div>
                    <img src="/client/assets/makeup_fentyfoundation.jpg" alt="Fenty Beauty Pro Filt'r Foundation" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">Fenty Beauty</div>
                        <h3 class="product-name">Pro Filt'r Soft Matte Foundation</h3>
                        <span class="product-category">Face</span>
                        <p class="product-description">Medium to full coverage foundation with a soft matte finish in 50 boundary-breaking shades.</p>
                        <p class="product-price">$39.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 2: Anastasia Beverly Hills Brow Pencil -->
                <div class="product-card" data-product-id="2" data-category="eyes">
                    <div class="sale-tag">20% OFF</div>
                    <img src="/client/assets/makeup_browwiz.webp" alt="Anastasia Beverly Hills Brow Wiz" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">Anastasia Beverly Hills</div>
                        <h3 class="product-name">Brow Wiz</h3>
                        <span class="product-category">Eyes</span>
                        <p class="product-description">Ultra-slim, retractable eyebrow pencil for precise detailing and creating hair-like strokes.</p>
                        <p class="product-price">$23.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 3: Charlotte Tilbury Lipstick -->
                <div class="product-card" data-product-id="3" data-category="lips">
                    <img src="/client/assets/makeup_charlotelipstik.jpg" alt="Charlotte Tilbury Matte Revolution Lipstick" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">Charlotte Tilbury</div>
                        <h3 class="product-name">Matte Revolution Lipstick</h3>
                        <span class="product-category">Lips</span>
                        <p class="product-description">Matte lipstick with 3D glowing pigments that create the illusion of fuller, wider lips.</p>
                        <p class="product-price">$34.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 4: NARS Blush -->
                <div class="product-card" data-product-id="4" data-category="cheeks">
                    <div class="new-tag">New</div>
                    <img src="/client/assets/makeup_nasrblush.webp" alt="NARS Blush" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">NARS</div>
                        <h3 class="product-name">Blush</h3>
                        <span class="product-category">Cheeks</span>
                        <p class="product-description">Award-winning, natural-looking blush that delivers a wide range of shades and finishes.</p>
                        <p class="product-price">$30.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 5: Urban Decay Eyeshadow Palette -->
                <div class="product-card" data-product-id="5" data-category="eyes">
                    <img src="/client/assets/makeup_nakedpallete.jpg" alt="Urban Decay Naked Palette" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">Urban Decay</div>
                        <h3 class="product-name">Naked Palette</h3>
                        <span class="product-category">Eyes</span>
                        <p class="product-description">Revolutionary eyeshadow palette filled with 12 neutral shades from silky mattes to smooth shimmers.</p>
                        <p class="product-price">$54.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 6: Pat McGrath Labs Highlighter -->
                <div class="product-card" data-product-id="6" data-category="cheeks">
                    <div class="featured-tag">Luxury</div>
                    <img src="/client/assets/makeup_pmlhighlighter.webp" alt="Pat McGrath Labs Highlighter" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">Pat McGrath Labs</div>
                        <h3 class="product-name">Skin Fetish Highlighter</h3>
                        <span class="product-category">Cheeks</span>
                        <p class="product-description">Transcendent gel-powder highlighter that creates an otherworldly glow on all skin tones.</p>
                        <p class="product-price">$48.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 7: MAC Lipstick -->
                <div class="product-card" data-product-id="7" data-category="lips">
                    <img src="/client/assets/makeup_maclipstick.webp" alt="MAC Lipstick" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">MAC</div>
                        <h3 class="product-name">Matte Lipstick</h3>
                        <span class="product-category">Lips</span>
                        <p class="product-description">Intense color payoff with a no-shine matte finish in iconic shades that last for hours.</p>
                        <p class="product-price">$19.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>

                <!-- Product 8: Morphe Brushes Set -->
                <div class="product-card" data-product-id="8" data-category="brushes">
                    <div class="sale-tag">15% OFF</div>
                    <img src="/client/assets/makeup_brushset.webp" alt="Morphe Brush Set" class="product-image">
                    <div class="product-info">
                        <div class="product-brand">Morphe</div>
                        <h3 class="product-name">Eye Brush Set</h3>
                        <span class="product-category">Brushes</span>
                        <p class="product-description">Set of professional-grade brushes for precise eyeshadow application and blending.</p>
                        <p class="product-price">$24.00</p>
                    </div>
                    <button class="quick-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Product Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="product-details">
                <img src="" alt="" id="modal-product-image">
                <div class="product-info">
                    <div class="modal-brand" id="modal-product-brand">Brand</div>
                    <h2 class="modal-name" id="modal-product-name">Product Name</h2>
                    <div class="modal-category" id="modal-product-category">Category</div>
                    <p class="modal-description" id="modal-product-description">This is a detailed description of the product with information about ingredients, benefits, and how to use it. The perfect addition to your beauty routine.</p>
                    <p class="price" id="modal-product-price">$48.00</p>
                    <button class="add-to-cart">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Shopping Cart</h2>
            <div id="cart-items">
                <!-- Cart items will be populated by JavaScript -->
            </div>
            <div class="cart-total">
                <h3>Total: $<span id="cart-total-amount">0.00</span></h3>
                <button class="checkout-btn">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <script>
        // Product data for modal display
        const products = [
            {
                id: 1,
                brand: "Fenty Beauty",
                name: "Pro Filt'r Soft Matte Foundation",
                category: "Face",
                price: 39.00,
                image: "/client/assets/makeup_fentyfoundation.jpg",
                description: "A soft matte, long-wear foundation with buildable, medium to full coverage, in a boundary-breaking range of 50 shades. The light-as-air, non-comedogenic formula is made with climate-adaptive technology that's resistant to sweat and humidity, and won't clog pores so that wherever you are, it's going to work on your skin."
            },
            {
                id: 2,
                brand: "Anastasia Beverly Hills",
                name: "Brow Wiz",
                category: "Eyes",
                price: 23.00,
                image: "/client/assets/makeup_browwiz.webp",
                description: "An ultra-slim, retractable pencil for precise detailing and creating hair-like strokes. The fine tip is perfect for spot-filling sparse areas and creating hair-like strokes, while the spoolie end blends for a natural-looking finish. Available in multiple shades to match any hair color."
            },
            {
                id: 3,
                brand: "Charlotte Tilbury",
                name: "Matte Revolution Lipstick",
                category: "Lips",
                price: 34.00,
                image: "/client/assets/makeup_charlotelipstik.jpg",
                description: "A matte lipstick that features a long-lasting, buildable, hydrating formula. Enriched with orchid extract and a blend of oils and waxes, this unique formula keeps lips hydrated all day. The square-angled tip mimics the shape of a lip brush for precise application."
            },
            {
                id: 4,
                brand: "NARS",
                name: "Blush",
                category: "Cheeks",
                price: 30.00,
                image: "/client/assets/makeup_nasrblush.webp",
                description: "An award-winning, pressed powder blush that delivers healthy-looking color to flatter any skin tone. The micronized powder ensures a soft, blendable application. Iconic shades include a range of translucent, natural tones, each with a subtle pink for a natural-looking blush undertone."
            },
            {
                id: 5,
                brand: "Urban Decay",
                name: "Naked Palette",
                category: "Eyes",
                price: 54.00,
                image: "/client/assets/makeup_nakedpallete.jpg",
                description: "An award-winning eyeshadow palette featuring 12 universal, neutral shades that flatter any skin tone. From ultra-smooth mattes to stunning shimmers, Naked is the palette that revolutionized neutral eyeshadows. Each shade features Urban Decay's Pigment Infusion System™ for rich, velvety, blendable color that lasts."
            },
            {
                id: 6,
                brand: "Pat McGrath Labs",
                name: "Skin Fetish Highlighter",
                category: "Cheeks",
                price: 48.00,
                image: "/client/assets/makeup_pmlhighlighter.webp",
                description: "A transcendent, creamy powder highlighter that creates an otherworldly glow. This innovative formula fuses the luminosity of a cream, the ease of a powder, and the blendability of a gel. Apply lightly for subtle radiance or build for intense, prismatic luminosity."
            },
            {
                id: 7,
                brand: "MAC",
                name: "Matte Lipstick",
                category: "Lips",
                price: 19.00,
                image: "/client/assets/makeup_maclipstick.web",
                description: "A rich, creamy lipstick formula with high color payoff in a no-shine matte finish. MAC Lipstick is available in various finishes, but the Matte finish is one of the most popular with its intense color and non-glossy, no-shine finish. The formula glides on smoothly and delivers rich, intense color."
            },
            {
                id: 8,
                brand: "Morphe",
                name: "Eye Brush Set",
                category: "Brushes",
                price: 24.00,
                image: "/client/assets/makeup_brushset.webp",
                description: "A professional-quality eye brush set essential for creating a variety of eye looks. The set includes brushes for applying shadow to the lid, defining the crease, blending out harsh lines, smudging along the lash line, and highlighting the brow bone. Each brush features synthetic bristles and a sleek handle for ultimate control."
            }
        ];
        
        // Add this code to the makeup.html file, replacing the existing DOMContentLoaded event handler

document.addEventListener('DOMContentLoaded', function() {
    // Cart data
    let cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
    let cartTotal = calculateCartTotal();
    updateCartCount();

    // Filter functionality
    setupFilters();
    
    // Product card click events
    setupProductCards();
    
    // Modal close events
    setupModalCloseEvents();
    
    // Search functionality
    setupSearch();
    
    // Add makeup tips button
    addMakeupTipsButton();
    
    // Add admin functionality check - THIS IS THE IMPORTANT PART
    const isAdmin = localStorage.getItem('isAdmin') === 'true';
    if (isAdmin) {
        // Show admin controls
        const addProductBtn = document.createElement('div');
        addProductBtn.className = 'add-product';
        addProductBtn.innerHTML = '<button class="add-product-button">+</button>';
        document.querySelector('nav').appendChild(addProductBtn);
        
        // Hide cart icon for admin
        document.querySelector('.cart-icon').style.display = 'none';
        
        // Add delete buttons to products
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-product-btn';
            deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
            deleteBtn.onclick = (e) => {
                e.stopPropagation();
                // Here you would add delete functionality
                card.style.opacity = '0.5';
                setTimeout(() => {
                    card.remove();
                }, 300);
            };
            card.appendChild(deleteBtn);
        });
    }
    
    // Initialize checking for first-time visitors
    checkFirstTimeVisitor();
});
        
        // Filter functionality
        function setupFilters() {
            const filterButtons = document.querySelectorAll('.filter-button');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Update active class
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.getAttribute('data-category');
                    const productCards = document.querySelectorAll('.product-card');
                    
                    productCards.forEach(card => {
                        if (category === 'all' || card.getAttribute('data-category') === category) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
        }
        
        // Product card setup
        function setupProductCards() {
            const productCards = document.querySelectorAll('.product-card');
            const quickAddButtons = document.querySelectorAll('.quick-add');
            
            productCards.forEach(card => {
                card.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('quick-add') && !e.target.closest('.quick-add')) {
                        const productId = parseInt(this.getAttribute('data-product-id'));
                        openProductModal(productId);
                    }
                });
            });
            
            quickAddButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const productId = parseInt(this.closest('.product-card').getAttribute('data-product-id'));
                    addToCart(productId, 1);
                    
                    // Animation feedback
                    this.innerHTML = '<i class="fas fa-check"></i>';
                    setTimeout(() => {
                        this.innerHTML = '<i class="fas fa-plus"></i>';
                    }, 1000);
                });
            });
        }
        
        // Modal close events
        function setupModalCloseEvents() {
            const closeButtons = document.querySelectorAll('.close');
            
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });
            
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });
            
            // Add to cart button in modal
            const addToCartButton = document.querySelector('.add-to-cart');
            addToCartButton.addEventListener('click', function() {
                const productId = parseInt(this.getAttribute('data-product-id'));
                addToCart(productId, 1);
                document.getElementById('product-modal').style.display = 'none';
            });
        }
        
        // Product modal
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            
            if (product) {
                const modal = document.getElementById('product-modal');
                
                document.getElementById('modal-product-image').src = product.image;
                document.getElementById('modal-product-image').alt = product.name;
                document.getElementById('modal-product-brand').textContent = product.brand;
                document.getElementById('modal-product-name').textContent = product.name;
                document.getElementById('modal-product-category').textContent = product.category;
                document.getElementById('modal-product-description').textContent = product.description;
                document.getElementById('modal-product-price').textContent = `$${product.price.toFixed(2)}`;
                
                // Set product ID for add to cart button
                document.querySelector('.add-to-cart').setAttribute('data-product-id', productId);
                
                modal.style.display = 'flex';
            }
        }
        
        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    const searchTerm = this.value.trim().toLowerCase();
                    if (searchTerm.length > 0) {
                        searchProducts(searchTerm);
                    }
                }
            });
        }
        
        function searchProducts(term) {
            const productCards = document.querySelectorAll('.product-card');
            let found = false;
            
            productCards.forEach(card => {
                const name = card.querySelector('.product-name').textContent.toLowerCase();
                const brand = card.querySelector('.product-brand').textContent.toLowerCase();
                const desc = card.querySelector('.product-description').textContent.toLowerCase();
                
                if (name.includes(term) || brand.includes(term) || desc.includes(term)) {
                    card.style.display = 'block';
                    found = true;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Reset category filter buttons
            document.querySelectorAll('.filter-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector('.filter-button[data-category="all"]').classList.add('active');
            
            // Show message if no results
            if (!found) {
                alert('No products found matching your search. Try different keywords.');
            }
        }
        
        // Cart functionality
        function showCartModal() {
            updateCartDisplay();
            document.getElementById('cart-modal').style.display = 'flex';
        }
        
        function addToCart(productId, quantity) {
            let cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
            const product = products.find(p => p.id === productId);
            
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    cart.push({
                        id: productId,
                        name: product.name,
                        brand: product.brand,
                        price: product.price,
                        image: product.image,
                        quantity: quantity
                    });
                }
                
                localStorage.setItem('beautyCart', JSON.stringify(cart));
                updateCartCount();
            }
        }
        
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            document.querySelector('.cart-count').textContent = totalItems;
        }
        
        function updateCartDisplay() {
            const cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
            const cartItemsContainer = document.getElementById('cart-items');
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
                document.getElementById('cart-total-amount').textContent = '0.00';
                return;
            }
            
            cart.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'cart-item';
                itemElement.setAttribute('data-product-id', item.id);
                
                itemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}">
                    <div class="cart-item-info">
                        <h3>${item.name}</h3>
                        <p class="cart-item-price">$${item.price.toFixed(2)}</p>
                    </div>
                    <div class="cart-item-actions">
                        <div class="quantity-control">
                            <button class="quantity-btn decrease">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn increase">+</button>
                        </div>
                        <i class="fas fa-times remove-item"></i>
                    </div>
                `;
                
                cartItemsContainer.appendChild(itemElement);
                
                // Add event listeners for quantity buttons
                const decreaseBtn = itemElement.querySelector('.decrease');
                const increaseBtn = itemElement.querySelector('.increase');
                const removeBtn = itemElement.querySelector('.remove-item');
                
                decreaseBtn.addEventListener('click', () => updateItemQuantity(item.id, -1));
                increaseBtn.addEventListener('click', () => updateItemQuantity(item.id, 1));
                removeBtn.addEventListener('click', () => removeItemFromCart(item.id));
            });
            
            // Update cart total
            document.getElementById('cart-total-amount').textContent = calculateCartTotal().toFixed(2);
        }
        
        function updateItemQuantity(productId, change) {
            let cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
            const itemIndex = cart.findIndex(item => item.id === productId);
            
            if (itemIndex !== -1) {
                cart[itemIndex].quantity += change;
                
                if (cart[itemIndex].quantity <= 0) {
                    cart.splice(itemIndex, 1);
                }
                
                localStorage.setItem('beautyCart', JSON.stringify(cart));
                updateCartDisplay();
                updateCartCount();
            }
        }
        
        function removeItemFromCart(productId) {
            let cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
            const itemIndex = cart.findIndex(item => item.id === productId);
            
            if (itemIndex !== -1) {
                cart.splice(itemIndex, 1);
                localStorage.setItem('beautyCart', JSON.stringify(cart));
                updateCartDisplay();
                updateCartCount();
            }
        }
        
        function calculateCartTotal() {
            const cart = JSON.parse(localStorage.getItem('beautyCart')) || [];
            return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }
        
        function handleUserIconClick() {
            const isLoggedIn = localStorage.getItem('userId');
            if (isLoggedIn) {
                window.location.href = 'profile.html';
            } else {
                window.location.href = 'login.html';
            }
        }
        
        // Add makeup tips section
        function addMakeupTipsButton() {
            const tipsButton = document.createElement('button');
            tipsButton.textContent = 'View Makeup Tips';
            tipsButton.style.backgroundColor = 'var(--primary)';
            tipsButton.style.color = 'white';
            tipsButton.style.border = 'none';
            tipsButton.style.padding = '0.8rem 1.5rem';
            tipsButton.style.borderRadius = '30px';
            tipsButton.style.marginBottom = '2rem';
            tipsButton.style.fontWeight = '500';
            tipsButton.style.display = 'block';
            tipsButton.style.marginLeft = 'auto';
            tipsButton.style.marginRight = 'auto';
            tipsButton.style.cursor = 'pointer';
            
            tipsButton.addEventListener('click', function() {
                showMakeupTips();
                this.style.display = 'none';
            });
            
            // Insert after the category filters
            const categoryFilter = document.querySelector('.category-filter');
            categoryFilter.parentNode.insertBefore(tipsButton, categoryFilter.nextSibling);
        }
        
        function showMakeupTips() {
            const tipsElement = document.createElement('div');
            tipsElement.className = 'makeup-tips';
            tipsElement.style.marginTop = '4rem';
            tipsElement.style.padding = '2rem';
            tipsElement.style.backgroundColor = 'var(--gray)';
            tipsElement.style.borderRadius = 'var(--radius)';
            
            tipsElement.innerHTML = `
                <h2 style="margin-bottom: 1.5rem; position: relative; display: inline-block;">Makeup Application Tips</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                    <div class="tip-card" style="background-color: white; padding: 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow);">
                        <h3 style="color: var(--primary); margin-bottom: 1rem;">Face Makeup Order</h3>
                        <ol style="padding-left: 1.5rem; line-height: 1.6;">
                            <li><strong>Primer:</strong> Create a smooth base for foundation</li>
                            <li><strong>Color Corrector:</strong> Target specific concerns</li>
                            <li><strong>Foundation:</strong> Apply from center outward</li>
                            <li><strong>Concealer:</strong> Target under eyes and blemishes</li>
                            <li><strong>Powder:</strong> Set liquid products</li>
                            <li><strong>Bronzer/Blush/Highlight:</strong> Add dimension</li>
                            <li><strong>Setting Spray:</strong> Lock everything in place</li>
                        </ol>
                    </div>
                    <div class="tip-card" style="background-color: white; padding: 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow);">
                        <h3 style="color: var(--primary); margin-bottom: 1rem;">Eye Makeup Tips</h3>
                        <ul style="padding-left: 1.5rem; line-height: 1.6;">
                            <li><strong>Prime:</strong> Always use eyeshadow primer</li>
                            <li><strong>Blend:</strong> Use windshield wiper motions</li>
                            <li><strong>Dark to Light:</strong> Apply darkest shade in crease</li>
                            <li><strong>Highlight:</strong> Add shimmer to inner corners</li>
                            <li><strong>Mascara:</strong> Apply to top and bottom lashes</li>
                            <li><strong>Waterline:</strong> Use waterproof liner to avoid smudging</li>
                        </ul>
                    </div>
                    <div class="tip-card" style="background-color: white; padding: 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow);">
                        <h3 style="color: var(--primary); margin-bottom: 1rem;">Lip Application Secrets</h3>
                        <ul style="padding-left: 1.5rem; line-height: 1.6;">
                            <li><strong>Exfoliate:</strong> Use a lip scrub before application</li>
                            <li><strong>Outline:</strong> Use lip liner for precise edges</li>
                            <li><strong>Apply:</strong> Start in center and work outward</li>
                            <li><strong>Blot:</strong> Press lips with tissue between layers</li>
                            <li><strong>Highlight:</strong> Add a touch to cupid's bow</li>
                            <li><strong>Set:</strong> Dust with translucent powder for matte look</li>
                        </ul>
                    </div>
                </div>
                <button id="hide-tips" style="margin-top: 1.5rem; padding: 0.6rem 1.2rem; background-color: var(--gray); border: 1px solid #ddd; border-radius: 30px;">Hide Tips</button>
            `;
            
            // Find the right place to insert the tips info
            const section = document.getElementById('makeup');
            section.appendChild(tipsElement);
            
            // Add event listener to hide button
            document.getElementById('hide-tips').addEventListener('click', function() {
                tipsElement.style.display = 'none';
                const tipsButton = document.createElement('button');
                tipsButton.textContent = 'View Makeup Tips';
                tipsButton.style.backgroundColor = 'var(--primary)';
                tipsButton.style.color = 'white';
                tipsButton.style.border = 'none';
                tipsButton.style.padding = '0.8rem 1.5rem';
                tipsButton.style.borderRadius = '30px';
                tipsButton.style.marginBottom = '2rem';
                tipsButton.style.fontWeight = '500';
                tipsButton.style.display = 'block';
                tipsButton.style.marginLeft = 'auto';
                tipsButton.style.marginRight = 'auto';
                tipsButton.style.cursor = 'pointer';
                
                tipsButton.addEventListener('click', function() {
                    showMakeupTips();
                    this.style.display = 'none';
                });
                
                const categoryFilter = document.querySelector('.category-filter');
                categoryFilter.parentNode.insertBefore(tipsButton, categoryFilter.nextSibling);
            });
        }
        
        // Check if user has viewed the page before
        function checkFirstTimeVisitor() {
            if (!localStorage.getItem('visitedMakeup')) {
                setTimeout(() => {
                    showWelcomePopup();
                }, 2000);
                localStorage.setItem('visitedMakeup', 'true');
            }
        }
        
        function showWelcomePopup() {
            const welcomePopup = document.createElement('div');
            welcomePopup.style.position = 'fixed';
            welcomePopup.style.bottom = '20px';
            welcomePopup.style.right = '20px';
            welcomePopup.style.backgroundColor = 'white';
            welcomePopup.style.padding = '20px';
            welcomePopup.style.borderRadius = 'var(--radius)';
            welcomePopup.style.boxShadow = 'var(--shadow)';
            welcomePopup.style.zIndex = '99';
            welcomePopup.style.maxWidth = '300px';
            welcomePopup.style.animation = 'slideIn 0.5s ease';
            
            welcomePopup.innerHTML = `
                <h3 style="margin-bottom: 10px; color: var(--primary);">Welcome to Makeup!</h3>
                <p style="margin-bottom: 15px;">Discover our premium collection of makeup products for every look.</p>
                <button style="background-color: var(--primary); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; width: 100%;">Explore Now</button>
                <span style="position: absolute; top: 10px; right: 10px; cursor: pointer; font-weight: bold;" id="close-popup">×</span>
            `;
            
            document.body.appendChild(welcomePopup);
            
            document.getElementById('close-popup').addEventListener('click', () => {
                welcomePopup.style.animation = 'slideOut 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(welcomePopup);
                }, 500);
            });
            
            // Add the animation keyframes
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // Initialize checking for first-time visitors
        checkFirstTimeVisitor();

        const isAdmin = localStorage.getItem('isAdmin') === 'true';
    if (isAdmin) {
        // Show admin controls
        document.querySelector('.add-product').style.display = 'flex';
        document.querySelector('.cart-icon').style.display = 'none';
        
        // Add delete buttons to products
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-product-btn';
            deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
            deleteBtn.onclick = (e) => {
                e.stopPropagation();
                // Here you would add delete functionality
                card.style.opacity = '0.5';
                setTimeout(() => {
                    card.remove();
                }, 300);
            };
            card.appendChild(deleteBtn);
        });
    }

    // Add Product Modal Functionality
function setupAddProductModal() {
    // Get DOM elements
    const addProductBtn = document.querySelector('.add-product-button');
    const addProductModal = document.getElementById('add-product-modal');
    const closeBtn = addProductModal.querySelector('.close');
    const addProductForm = document.getElementById('add-product-form');
    
    // Open modal when add product button is clicked
    addProductBtn.addEventListener('click', () => {
        addProductModal.style.display = 'flex';
    });
    
    // Close modal when close button is clicked
    closeBtn.addEventListener('click', () => {
        addProductModal.style.display = 'none';
    });
    
    // Close modal when clicking outside the modal content
    window.addEventListener('click', (e) => {
        if (e.target === addProductModal) {
            addProductModal.style.display = 'none';
        }
    });
    
    // Handle form submission
    addProductForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        // Get form values
        const name = document.getElementById('product-name').value;
        const brand = document.getElementById('product-brand').value;
        const category = document.getElementById('product-category').value;
        const price = parseFloat(document.getElementById('product-price').value);
        const description = document.getElementById('product-description').value;
        const imageUrl = document.getElementById('product-image').value;
        const tagType = document.querySelector('input[name="product-tag"]:checked').value;
        
        // Create product object for database
        const productData = {
            title: name,
            description: description,
            price: price,
            image_url: imageUrl
        };
        
        try {
            // Send product data to server
            const response = await fetch('/api/products', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(productData)
            });
            
            if (response.ok) {
                const result = await response.json();
                console.log('Product added:', result);
                
                // Create product card and add to page
                createProductCard({
                    id: result.productId,
                    brand: brand,
                    name: name,
                    category: category,
                    price: price,
                    description: description,
                    image: imageUrl,
                    tagType: tagType !== 'none' ? tagType : null
                });
                
                // Clear form
                addProductForm.reset();
                
                // Close modal
                addProductModal.style.display = 'none';
                
                // Show success notification
                showNotification('Product added successfully', 'success');
            } else {
                const error = await response.json();
                throw new Error(error.error || 'Failed to add product');
            }
        } catch (error) {
            console.error('Error adding product:', error);
            showNotification(error.message, 'error');
        }
    });
}

// Function to create a new product card in the DOM
function createProductCard(product) {
    // Create product card element
    const productCard = document.createElement('div');
    productCard.className = 'product-card';
    productCard.setAttribute('data-product-id', product.id);
    productCard.setAttribute('data-category', product.category);
    
    // Add tag if specified
    if (product.tagType) {
        const tagElement = document.createElement('div');
        tagElement.className = `${product.tagType}-tag`;
        tagElement.textContent = product.tagType === 'featured' ? 'Featured' : 
                                product.tagType === 'sale' ? '20% OFF' : 'New';
        productCard.appendChild(tagElement);
    }
    
    // Add product image
    const imageElement = document.createElement('img');
    imageElement.src = product.image;
    imageElement.alt = product.name;
    imageElement.className = 'product-image';
    productCard.appendChild(imageElement);
    
    // Add product info
    const infoElement = document.createElement('div');
    infoElement.className = 'product-info';
    
    const brandElement = document.createElement('div');
    brandElement.className = 'product-brand';
    brandElement.textContent = product.brand;
    infoElement.appendChild(brandElement);
    
    const nameElement = document.createElement('h3');
    nameElement.className = 'product-name';
    nameElement.textContent = product.name;
    infoElement.appendChild(nameElement);
    
    const categoryElement = document.createElement('span');
    categoryElement.className = 'product-category';
    categoryElement.textContent = product.category.charAt(0).toUpperCase() + product.category.slice(1);
    infoElement.appendChild(categoryElement);
    
    const descElement = document.createElement('p');
    descElement.className = 'product-description';
    descElement.textContent = product.description;
    infoElement.appendChild(descElement);
    
    const priceElement = document.createElement('p');
    priceElement.className = 'product-price';
    priceElement.textContent = `$${product.price.toFixed(2)}`;
    infoElement.appendChild(priceElement);
    
    productCard.appendChild(infoElement);
    
    // Add quick add button
    const quickAddBtn = document.createElement('button');
    quickAddBtn.className = 'quick-add';
    quickAddBtn.innerHTML = '<i class="fas fa-plus"></i>';
    quickAddBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        addToCart(product.id, 1);
        
        // Animation feedback
        quickAddBtn.innerHTML = '<i class="fas fa-check"></i>';
        setTimeout(() => {
            quickAddBtn.innerHTML = '<i class="fas fa-plus"></i>';
        }, 1000);
    });
    productCard.appendChild(quickAddBtn);
    
    // Add delete button (for admin)
    const deleteBtn = document.createElement('button');
    deleteBtn.className = 'delete-product-btn';
    deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
    deleteBtn.onclick = async (e) => {
        e.stopPropagation();
        
        try {
            // Send delete request to server
            const response = await fetch(`/api/products/${product.id}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                // Remove product card from DOM with animation
                productCard.style.opacity = '0.5';
                setTimeout(() => {
                    productCard.remove();
                }, 300);
                
                showNotification('Product deleted successfully', 'success');
            } else {
                const error = await response.json();
                throw new Error(error.error || 'Failed to delete product');
            }
        } catch (error) {
            console.error('Error deleting product:', error);
            showNotification(error.message, 'error');
        }
    };
    productCard.appendChild(deleteBtn);
    
    // Add product card to grid
    const productsGrid = document.querySelector('.products-grid');
    productsGrid.appendChild(productCard);
    
    // Add click event to open modal
    productCard.addEventListener('click', function(e) {
        if (!e.target.classList.contains('quick-add') && !e.target.closest('.quick-add')) {
            openProductModal(product.id);
        }
    });
    
    return productCard;
}

// Function to show notification
function showNotification(message, type) {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    // Add animation
    setTimeout(() => {
        notification.classList.add('show');
    }, 10);
    
    // Remove notification after 3 seconds
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 3000);
}

// Initialize add product functionality when admin is logged in
function initAdminProductFeatures() {
    const isAdmin = localStorage.getItem('isAdmin') === 'true';
    if (isAdmin) {
        setupAddProductModal();
    }
}

// Call init function when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Rest of your existing initialization code...
    
    // Initialize admin features
    initAdminProductFeatures();
});
    </script>
    <!-- Add Product Modal -->
<div id="add-product-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Add New Product</h2>
        <form id="add-product-form">
            <div class="form-group">
                <label for="product-name">Product Name</label>
                <input type="text" id="product-name" required>
            </div>
            
            <div class="form-group">
                <label for="product-brand">Brand</label>
                <input type="text" id="product-brand" required>
            </div>
            
            <div class="form-group">
                <label for="product-category">Category</label>
                <select id="product-category" required>
                    <option value="">Select a category</option>
                    <option value="cleanser">Cleanser</option>
                    <option value="moisturizer">Moisturizer</option>
                    <option value="treatment">Treatment</option>
                    <option value="sunscreen">Sunscreen</option>
                    <option value="toner">Toner</option>
                    <option value="face">Face Makeup</option>
                    <option value="eyes">Eye Makeup</option>
                    <option value="lips">Lip Products</option>
                    <option value="cheeks">Cheek Products</option>
                    <option value="brushes">Brushes</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="product-price">Price ($)</label>
                <input type="number" id="product-price" step="0.01" min="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="product-description">Description</label>
                <textarea id="product-description" rows="4" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="product-image">Image URL</label>
                <input type="text" id="product-image" required placeholder="Enter image URL">
            </div>
            
            <div class="form-group">
                <label>Featured Tag</label>
                <div class="radio-group">
                    <input type="radio" id="tag-none" name="product-tag" value="none" checked>
                    <label for="tag-none">None</label>
                    
                    <input type="radio" id="tag-featured" name="product-tag" value="featured">
                    <label for="tag-featured">Featured</label>
                    
                    <input type="radio" id="tag-sale" name="product-tag" value="sale">
                    <label for="tag-sale">Sale</label>
                    
                    <input type="radio" id="tag-new" name="product-tag" value="new">
                    <label for="tag-new">New</label>
                </div>
            </div>
            
            <button type="submit" class="add-product-submit">Add Product</button>
        </form>
    </div>
</div>

<script src="../js/search.js"></script>
</body>
</html>